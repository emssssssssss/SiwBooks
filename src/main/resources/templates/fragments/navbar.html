<!-- fragments/navbar.html -->
<nav th:fragment="navbar">
  <div class="navbar-container">
    <!-- Logo a sinistra -->
    <div class="logo">
      <a th:href="@{/home}">
        <img th:src="@{/images/logo.png}" alt="Logo" />
      </a>
    </div>

    <!-- Menu -->
    <ul>
      <li><a th:href="@{/home}">Home</a></li>
      <li><a th:href="@{/libri}">Libri</a></li>
      <li><a th:href="@{/autori}">Autori</a></li>
      <li sec:authorize="isAuthenticated()">
          <a th:href="@{/profilo}">Profilo</a>
      </li>


      <li sec:authorize="isAnonymous()">
        <!-- Assumendo che currentUri sia valorizzato nel model con l'URI corrente -->
        <a th:href="@{/login(redirect=${currentUri})}">Login</a>
      </li>

      <li sec:authorize="isAuthenticated()">
        <form th:action="@{/logout}" method="post" style="display:inline;">
          <button type="submit">Logout</button>
          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        </form>
      </li>
    </ul>
  </div>
</nav>